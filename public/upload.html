<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/custom.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-2 sidemenu">
                <div class="logo">
                    <img src="img/logo/logo-no-background.png" alt="">
                </div>

                <div class="nav">
                    <ul>
                        <a href="/">
                            <li class="nav-item active">
                                <i class="fas fa-home"></i> Home
                            </li>
                        </a>

                        <a href="/upload">
                            <li class="nav-item">
                                <i class="fas fa-upload"></i> Upload Video
                            </li>
                        </a>

                        <a href="/channel">
                            <li class="nav-item">
                                <i class="fas fa-user"></i> Your Channel
                            </li>
                        </a>

                    </ul>
                </div>
                <div class="divider"></div>
                <div class="nav">
                    <ul>
                        <li class="nav-item">
                            <i class="fas fa-list"></i> Your Library
                        </li>

                        <a href="">
                            <li class="nav-item muted">
                                Playlist 1
                            </li>
                        </a>

                        <a href="">
                            <li class="nav-item muted">
                                Playlist 2
                            </li>
                        </a>

                    </ul>
                </div>
            </div>
            <div class="col-10 content">
                <div class="container-fluid p-3">
                    <div class="row">
                        <div class="col-12">
                            <div class="card bg-light">
                                <div class="card-header">
                                    <h4 class="card-title">Upload video</h4>
                                </div>
                                <div class="card-body">
                                    <form action="">

                                        <div class="row">
                                            <div class="col-5">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label for="">Title</label>
                                                        <input type="text" class="form-control" placeholder="Enter title">
                                                    </div>
                                                </div>
                                                <div class="row mt-3">
                                                    <div class="form-group">
                                                        <label for="">Description</label>
                                                        <textarea name="" id="" cols="30" rows="3" class="form-control" placeholder="Enter description"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-2"></div>


                                            <div class="col-4">
                                                <div class="row">
                                                    <div class="col-12">
                                                        <div class="card bg-dark video-upload">
                                                            <div>Upload video</div>
                                                            <div class="btn btn-muted mt-2" id="video_btn">Add Video</div>
                                                            <canvas id="video-canvas" style="display: none;"></canvas>
                                                            <video id="main-video" controls style="display: none;">
                                                                <source type="video/mp4">
                                                             </video>
                                                             <input type="file" hidden id="video_input">
                                                        </div>
                                                    </div>
                                                </div>

                                        
                                                 
                                            </div>
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-6">
                                                <div class="btn btn-primary btn-block">Upload</div>
                                            </div>
                                        </div>

                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var _CANVAS = document.querySelector("#video-canvas");
        var _CTX = _CANVAS.getContext("2d");
        var _VIDEO = document.querySelector("#main-video");
        window.onload = function(){
            document.getElementById('video_btn').addEventListener('click', function(){
                document.getElementById('video_input').click();
            });

            document.getElementById('video_input').addEventListener('change', function(){
                document.querySelector("#main-video source").setAttribute('src', URL.createObjectURL(document.getElementById('video_input').files[0]));

            // Load the video and show it
            _VIDEO.load();

            // Load metadata of the video to get video duration and dimensions
            _VIDEO.addEventListener('loadedmetadata', function() {
                // Set canvas dimensions same as video dimensions
                _CANVAS.width = _VIDEO.videoWidth;
                _CANVAS.height = _VIDEO.videoHeight;
            });

            _VIDEO.addEventListener('canplay', function() {
                _CANVAS.style.display = 'inline';
                _CTX.drawImage(_VIDEO, 0, 0, _VIDEO.videoWidth, _VIDEO.videoHeight);
            });
                    });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>